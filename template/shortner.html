<!doctype html>
<html>
	<head>
		<title>Home</title>
		<link rel="stylesheet" type="text/css" href="static/custom.css">
	</head>
	<body>
		
		<nav>
			<h3>
				Otter
			</h3>
			<div id="nav-links">
				<a href="/login">Login<a/>
				<a href="/register">Signup<a/>
			</div>
		</nav>
		<br>
		<form action="short{{if .url_next }}?url_next={{.url_next}}{{end}}" method ="post">
			<p>
				<input name="url" type="url" required>
			</p>
			<p>
        <label>Password protect<input id="password_protect" name="password_protect" type="checkbox" onclick="markRequired()"></label>
				<input id="url_password" name="password" type="password">
				<label>Show Password<input name="show_password" type="checkbox" onclick="showHidePassword()"></label>
			</p>
			<p>
				{{ if .error }}
					{{.error}}
				{{end}}
			</p>
			<input type=submit value="Login">
		</form>
		<script>
				function showHidePassword() {
					let x = document.getElementById("url_password");
					if (x.type === "password") {
						 x.type = "text";
					} else {
						x.type = "password";
					}
				}
				function markRequired() {
					let checkBox = document.getElementById("password_protect");
					let input = document.getElementById("url_password");
					if (checkBox.checked) {
						input.required = true;
					} else {
						input.required = false;
					}
				}
			</script>
	</body>
</html>